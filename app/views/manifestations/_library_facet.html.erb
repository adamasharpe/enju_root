<h4><%= t('activerecord.models.library') -%></h4>
<ul>
  <%- libraries = params[:library].to_s.split -%>
  <%- current_libraries = libraries.dup -%>
  <%- @library_facet.rows.each do |facet| -%>
    <li>
      <%- if current_libraries.include?(library.name) -%><strong><%- end -%>
      <%- library = Library.find(facet.value) -%>
      <%= link_to h("#{library.display_name.localize} (" + facet.count.to_s + ")"), url_for(:params => params.merge(:page => nil, :library => (current_libraries << library.name).uniq.join(' '), :carrier_type => nil, :view => nil)) -%>
      <%- if current_libraries.include?(library.name) -%></strong><%- end -%>
    </li>
  <%- end -%>
  <%- if params[:library] -%>
    <li><%= link_to t('page.remove_this_facet'), url_for(:params => params.merge(:library => nil, :page => nil, :view => nil)) -%></li>
  <%- end -%>
</ul>
